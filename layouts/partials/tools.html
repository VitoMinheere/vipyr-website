{{ if .Site.Data.homepage.tools.enable }}
<section id="tools" class="section-experience section section--border-bottom rad-animation-group flex-grow-1">
    <div class="container">
        <div class="row flex-column-reverse flex-md-row rad-fade-down">
            <div class="col-12 cold-md-12 col-sm-6 mt-5 mt-sm-0">
                {{ $baseLangSite := .Sites.Default }}
                {{ $xp := (where .Site.RegularPages.ByDate "Type" "tools") }}
                {{ $xp = $xp | lang.Merge (where $baseLangSite.RegularPages.ByDate.Reverse "Type" "tools") }}
                
                
                {{ $xpCount := len $xp }}
                {{/* in the homepage we limit to the homepagetoolsCount param (6 by default) in the inner page (experience) we display the all */}}
                {{ $totalCount := .Site.Params.homepagetoolsCount }}
                
                {{ if not .IsHome }}
                {{ $totalCount = len $xp }}
                {{ end }}
                {{ range first $totalCount (sort $xp "Date" "desc") }}
                <div class="experience">
                    <a href="{{.Permalink | relLangURL }}">
                        {{/* The context, ".", is now each one of the pages as it goes
                        through the loop */}}
                        <div class="tools__title">{{ .Params.title }}</div>
                    </a>
                </div>
                {{ end }}
                {{ if gt $xpCount $totalCount }}
                <div class="all-experience-container">
                    {{ $xpExtra := sub $xpCount $totalCount }}
                    <em>And {{ $xpExtra }} more</em><br />
                    <a href="{{ absURL "tools" | relLangURL }} " title=" See additional {{ $xpExtra }} experience items"
                        class="btn btn-primary btn-all-tools">
                        <i class="{{ .Site.Data.homepage.tools.button3.icon }}"></i>
                        {{ i18n "tools_button3" }}
                    </a>
                </div>
                {{ end }}
            </div>
            <div class="col-12 col-md-6">
                {{ partial "tools-description.html" . }}
            </div>
        </div>
    </div>
</section>
{{ end }}